<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é­”é­”çš„ç¥ç§˜èŠ±å‰ç›²ç›’</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #f472b6;
            --secondary-color: #ec4899;
            --accent-color: #be185d;
            --text-color: #831843;
        }
        
        body {
            background-color: #fffbf5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.5s ease;
        }

        .gift-box {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .gift-box:hover {
            transform: scale(1.05);
        }

        .gift-box .lid {
            position: absolute;
            width: 100%;
            height: 40px;
            top: -20px;
            background-color: var(--primary-color);
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            transition: transform 0.5s ease, opacity 0.5s ease;
            z-index: 10;
        }

        .gift-box .lid:before {
            content: '';
            position: absolute;
            width: 40px;
            height: 30px;
            background-color: var(--accent-color);
            top: -15px;
            left: 80px;
            border-radius: 5px;
        }

        .gift-box .box {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--secondary-color);
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            overflow: hidden;
            transition: all 0.5s ease;
        }

        .gift-box .ribbon {
            position: absolute;
            width: 30px;
            height: 200px;
            background-color: var(--accent-color);
            left: 85px;
            z-index: 2;
        }

        .gift-box .ribbon:before {
            content: '';
            position: absolute;
            width: 200px;
            height: 30px;
            background-color: var(--accent-color);
            top: 85px;
            left: -85px;
        }

        .box-open .lid {
            transform: translateY(-50px) rotateZ(-20deg);
            opacity: 0;
        }

        .box-open .box {
            transform: scale(0.8);
            opacity: 0;
        }

        .flower-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
            transition-delay: 0.5s;
        }

        .box-open .flower-container {
            opacity: 1;
            transform: translateY(0);
        }

        .flower-img {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 0 20px rgba(244, 114, 182, 0.6);
        }

        .flower-info {
            position: absolute;
            width: 300px;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            top: 160px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            transition-delay: 0.8s;
            z-index: 20;
        }

        .box-open .flower-info {
            opacity: 1;
            transform: translateY(0);
        }

        .rareness {
            display: inline-block;
            margin-top: 8px;
        }

        .rareness i {
            color: #f59e0b;
        }

        .history-item {
            transition: all 0.3s ease;
        }

        .history-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }

        .sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: white;
            box-shadow: 0 0 10px white, 0 0 20px var(--primary-color);
            animation: sparkle 0.8s linear forwards;
            z-index: 100;
        }

        @keyframes sparkle {
            0% {
                opacity: 1;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(1.5);
            }
        }

        .disabled {
            position: relative;
            cursor: not-allowed;
        }

        .disabled:after {
            content: 'ä»Šå¤©å·²ç»å¼€å¯è¿‡å•¦ï¼Œæ˜å¤©å†æ¥å§~';
            position: absolute;
            width: 200px;
            text-align: center;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .disabled:hover:after {
            opacity: 1;
        }

        .btn-reset {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
        }

        .btn-reset:hover {
            transform: rotate(180deg);
        }

        .box-open .btn-reset {
            opacity: 1;
        }
        
        /* Animation for flower entry */
        @keyframes floatIn {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .float-in {
            animation: floatIn 0.5s forwards;
        }
        
        /* Customize scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f9e6f3;
        }
        
        ::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 20px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <header class="text-center py-6 px-4">
        <h1 class="text-3xl md:text-4xl font-bold text-pink-600">ğŸ’ é­”é­”çš„ç¥ç§˜èŠ±å‰ç›²ç›’ ğŸ’</h1>
        <p class="text-pink-500 mt-2">æ¯å¤©æ‰“å¼€ä¸€æ¬¡ï¼Œå‘ç°ç¾ä¸½èŠ±å‰çš„å¥‡å¦™ä¸–ç•Œ</p>
    </header>

    <main class="flex-grow flex flex-col items-center justify-center px-4 py-8 relative">
        <div class="gift-box" id="giftBox">
            <div class="lid"></div>
            <div class="box"></div>
            <div class="ribbon"></div>
            <div class="flower-container">
                <img src="" alt="ç¥ç§˜èŠ±å‰" class="flower-img" id="flowerImage">
            </div>
            <div class="btn-reset" id="resetBtn">
                <i class="fas fa-redo-alt"></i>
            </div>
        </div>

        <div class="flower-info" id="flowerInfo">
            <h2 class="text-xl font-bold text-pink-600" id="flowerName"></h2>
            <p class="text-sm text-gray-500 italic" id="flowerScientific"></p>
            <div class="rareness" id="flowerRareness"></div>
            <p class="mt-3 text-gray-700" id="flowerDescription"></p>
        </div>

        <div class="mt-8 max-w-4xl w-full">
            <h3 class="text-xl font-semibold text-pink-600 mb-4 flex items-center">
                <i class="fas fa-history mr-2"></i>å·²å‘ç°çš„èŠ±å‰
                <span class="ml-2 text-sm bg-pink-100 text-pink-800 px-2 py-1 rounded-full" id="discoveryCount">0/50</span>
            </h3>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="historyContainer">
                <!-- å†å²è®°å½•å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </main>

    <footer class="text-center py-4 text-pink-500 text-sm">
        <p>ç”¨çˆ±â¤ï¸ç²¾å¿ƒåˆ¶ä½œ | çŒ®ç»™äº²çˆ±çš„é­”é­”</p>
    </footer>

    <script>
        // èŠ±å‰æ•°æ®åº“
        const flowers = [
            {
                name: "ç«ç‘°",
                scientific: "Rosa",
                description: "ç«ç‘°è±¡å¾ç€çˆ±æƒ…ä¸ç¾ä¸½ï¼Œå°±åƒæˆ‘å¯¹ä½ çš„çˆ±ä¸€æ ·çƒ­çƒˆè€Œæ°¸æ’ã€‚æ¯ä¸€ç‰‡èŠ±ç“£éƒ½æ‰¿è½½ç€æˆ‘å¯¹ä½ çš„æ€å¿µä¸æ¸©æŸ”ã€‚",
                rareness: 3,
                keyword: "pink+rose"
            },
            {
                name: "å‘æ—¥è‘µ",
                scientific: "Helianthus annuus",
                description: "å‘æ—¥è‘µæ€»æ˜¯è¿½éšç€å¤ªé˜³ï¼Œå°±åƒæˆ‘çš„å¿ƒå§‹ç»ˆå‘ç€ä½ ã€‚å®ƒä»£è¡¨ç€å¿ è¯šã€é˜³å…‰å’Œå¹¸ç¦çš„ç¬‘å®¹ã€‚",
                rareness: 2,
                keyword: "sunflower"
            },
            {
                name: "éƒé‡‘é¦™",
                scientific: "Tulipa",
                description: "éƒé‡‘é¦™ä¼˜é›…é«˜è´µï¼Œè±¡å¾ç€å®Œç¾çš„çˆ±æƒ…ã€‚å®ƒå¦‚åŒæˆ‘å¯¹ä½ çš„æƒ…æ„Ÿï¼Œçº¯æ´è€Œçƒ­çƒˆï¼Œæ°¸ä¸è¤ªè‰²ã€‚",
                rareness: 3,
                keyword: "tulip"
            },
            {
                name: "å…°èŠ±",
                scientific: "Orchidaceae",
                description: "å…°èŠ±é«˜é›…è„±ä¿—ï¼Œå¦‚åŒä½ çš„æ°”è´¨ä¸€èˆ¬ä»¤äººéš¾ä»¥å¿˜æ€€ã€‚å®ƒè±¡å¾ç€é«˜è´µã€ä¼˜é›…å’Œæ— é™çš„çˆ±ã€‚",
                rareness: 4,
                keyword: "orchid"
            },
            {
                name: "æ»¡å¤©æ˜Ÿ",
                scientific: "Gypsophila",
                description: "æ»¡å¤©æ˜Ÿå¦‚åŒå¤œç©ºä¸­çš„ç¹æ˜Ÿï¼Œç‚¹ç¼€ç€æˆ‘ä»¬çš„çˆ±æƒ…ã€‚æ¯ä¸€æœµå°èŠ±éƒ½æ˜¯æˆ‘å¯¹ä½ çˆ±çš„è§è¯ã€‚",
                rareness: 2,
                keyword: "babys+breath"
            },
            {
                name: "ç™¾åˆ",
                scientific: "Lilium",
                description: "ç™¾åˆçº¯æ´é«˜è´µï¼Œä»£è¡¨ç€çº¯å‡€çš„çˆ±ä¸ç¥ç¦ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚ç™¾åˆèˆ¬åœ£æ´è€ŒæŒä¹…ã€‚",
                rareness: 3,
                keyword: "lily+flower"
            },
            {
                name: "å‹¿å¿˜æˆ‘",
                scientific: "Myosotis",
                description: "è¿™è“è‰²çš„å°èŠ±æ‰¿è½½ç€'è¯·ä¸è¦å¿˜è®°æˆ‘'çš„å«ä¹‰ï¼Œå°±åƒæˆ‘å¸Œæœ›åœ¨ä½ å¿ƒä¸­æ°¸è¿œæœ‰æˆ‘çš„ä½ç½®ã€‚",
                rareness: 3,
                keyword: "forget+me+not"
            },
            {
                name: "é£ä¿¡å­",
                scientific: "Hyacinthus",
                description: "é£ä¿¡å­å¸¦æ¥æ˜¥å¤©çš„æ°”æ¯ï¼Œè±¡å¾ç€é‡ç”Ÿä¸å¸Œæœ›ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚åŒæ˜¥å¤©èˆ¬å……æ»¡ç”Ÿæœºã€‚",
                rareness: 3,
                keyword: "hyacinth"
            },
            {
                name: "é›èŠ",
                scientific: "Bellis perennis",
                description: "é›èŠä»£è¡¨ç€çº¯çœŸçš„çˆ±ä¸å¿ è¯šï¼Œå®ƒæœ´ç´ è€Œç¾ä¸½ï¼Œå°±åƒæˆ‘å¯¹ä½ çº¯ç²¹çš„æƒ…æ„Ÿã€‚",
                rareness: 2,
                keyword: "daisy+flower"
            },
            {
                name: "ç´«ç½—å…°",
                scientific: "Viola",
                description: "ç´«ç½—å…°æœ‰ç€ç¾ä¸½çš„è‰²å½©å’Œè¿·äººçš„é¦™æ°”ï¼Œè±¡å¾ç€æ°¸æ’çš„ç¾ä¸½ä¸å¿ è¯šã€‚",
                rareness: 3,
                keyword: "violet+flower"
            },
            {
                name: "è´è¶å…°",
                scientific: "Phalaenopsis",
                description: "è´è¶å…°å¦‚åŒç¿©ç¿©èµ·èˆçš„è´è¶ï¼Œä»£è¡¨ç€æˆ‘å¯¹ä½ çš„çˆ±æƒ…å¦‚è¶èˆ¬è½»ç›ˆè€Œç¾ä¸½ã€‚",
                rareness: 4,
                keyword: "phalaenopsis+orchid"
            },
            {
                name: "æœˆå­£",
                scientific: "Rosa chinensis",
                description: "æœˆå­£å››å­£å¸¸å¼€ï¼Œè±¡å¾ç€æˆ‘å¯¹ä½ çš„çˆ±æƒ…ä¸ä¼šå› å­£èŠ‚å˜æ¢è€Œæ”¹å˜ï¼Œå§‹ç»ˆå¦‚ä¸€ã€‚",
                rareness: 3,
                keyword: "china+rose"
            },
            {
                name: "ç‰¡ä¸¹",
                scientific: "Paeonia suffruticosa",
                description: "ç‰¡ä¸¹è¢«èª‰ä¸ºèŠ±ä¸­ä¹‹ç‹ï¼Œå¯Œè´µåä¸½ã€‚æ„¿ä½ å¦‚ç‰¡ä¸¹èˆ¬ç»½æ”¾å…‰å½©ï¼Œç”Ÿæ´»å¯Œè¶³ç¾æ»¡ã€‚",
                rareness: 5,
                keyword: "peony+flower"
            },
            {
                name: "é“ƒå…°",
                scientific: "Convallaria majalis",
                description: "é“ƒå…°ä»£è¡¨ç€å¹¸ç¦çš„å½’æ¥ä¸çº¯æ´çš„çˆ±æƒ…ã€‚å®ƒå¦‚åŒæ¸…è„†çš„é“ƒå£°ï¼Œå”¤é†’æˆ‘å¿ƒåº•çš„çˆ±æ„ã€‚",
                rareness: 4,
                keyword: "lily+of+the+valley"
            },
            {
                name: "è–°è¡£è‰",
                scientific: "Lavandula",
                description: "è–°è¡£è‰ä»£è¡¨ç€ç­‰å¾…çˆ±æƒ…ï¼Œå®ƒç‹¬ç‰¹çš„é¦™æ°”å¦‚åŒæˆ‘å¯¹ä½ æ·±æ²‰è€Œæ’ä¹…çš„çˆ±ã€‚",
                rareness: 3,
                keyword: "lavender"
            },
            {
                name: "åº·ä¹ƒé¦¨",
                scientific: "Dianthus caryophyllus",
                description: "åº·ä¹ƒé¦¨è±¡å¾ç€çˆ±ã€é­…åŠ›ä¸å°Šæ•¬ã€‚å®ƒçƒ­æƒ…è€ŒæŒä¹…ï¼Œå¦‚åŒæˆ‘ä»¬çš„çˆ±æƒ…æ°¸ä¸å‡‹é›¶ã€‚",
                rareness: 2,
                keyword: "carnation"
            },
            {
                name: "æ¨±èŠ±",
                scientific: "Prunus serrulata",
                description: "æ¨±èŠ±è™½ç„¶çŸ­æš‚ï¼Œå´ç¾ä¸½ç»ä¼¦ï¼Œæé†’æˆ‘ä»¬è¦çæƒœå½“ä¸‹çš„æ¯ä¸€åˆ»ï¼Œä¸ä½ å…±åŒåˆ›é€ ç¾å¥½å›å¿†ã€‚",
                rareness: 4,
                keyword: "cherry+blossom"
            },
            {
                name: "æ¢…èŠ±",
                scientific: "Prunus mume",
                description: "æ¢…èŠ±åœ¨ä¸¥å†¬ä¸­ç»½æ”¾ï¼Œè±¡å¾ç€åšå¼ºä¸å¸Œæœ›ã€‚æ— è®ºé‡åˆ°ä»€ä¹ˆå›°éš¾ï¼Œæˆ‘ä»¬çš„çˆ±éƒ½èƒ½æˆ˜èƒœä¸€åˆ‡ã€‚",
                rareness: 4,
                keyword: "plum+blossom"
            },
            {
                name: "æ €å­èŠ±",
                scientific: "Gardenia jasminoides",
                description: "æ €å­èŠ±çº¯ç™½å…¸é›…ï¼Œé¦™æ°”è¿·äººï¼Œè±¡å¾ç€æˆ‘ä»¬çº¯å‡€è€Œåˆå¸¦ç€ç”œèœœçš„çˆ±æƒ…ã€‚",
                rareness: 3,
                keyword: "gardenia"
            },
            {
                name: "é¸¢å°¾èŠ±",
                scientific: "Iris",
                description: "é¸¢å°¾èŠ±ä»£è¡¨ç€ä¿¡ä»°ã€æ™ºæ…§ä¸å‹‡æ°”ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å……æ»¡æ™ºæ…§ï¼Œå‹‡æ•¢é¢å¯¹æœªæ¥çš„æŒ‘æˆ˜ã€‚",
                rareness: 3,
                keyword: "iris+flower"
            },
            {
                name: "ç´«è—¤",
                scientific: "Wisteria",
                description: "ç´«è—¤èŠ±å¦‚ç€‘å¸ƒèˆ¬å‚æŒ‚ï¼Œæµªæ¼«è€Œæ¢¦å¹»ã€‚å®ƒè±¡å¾ç€æ·±æ·±çš„ä¾æ‹ä¸ç•™æ‹ï¼Œå¦‚åŒæˆ‘å¯¹ä½ çš„æ€å¿µã€‚",
                rareness: 4,
                keyword: "wisteria"
            },
            {
                name: "è·èŠ±",
                scientific: "Nelumbo nucifera",
                description: "è·èŠ±å‡ºæ·¤æ³¥è€Œä¸æŸ“ï¼Œæ¿¯æ¸…æ¶Ÿè€Œä¸å¦–ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚è·èŠ±èˆ¬çº¯æ´æ— ç‘•ï¼Œä¸è¢«ä¸–ä¿—æ²¾æŸ“ã€‚",
                rareness: 4,
                keyword: "lotus+flower"
            },
            {
                name: "æœé¹ƒèŠ±",
                scientific: "Rhododendron",
                description: "æœé¹ƒèŠ±è‰²å½©è‰³ä¸½ï¼Œè±¡å¾ç€çƒ­æƒ…ä¸æ°¸æ’çš„ç¾ä¸½ã€‚å®ƒå¦‚åŒæˆ‘å¯¹ä½ çƒ­çƒˆè€Œä¸å˜çš„çˆ±ã€‚",
                rareness: 3,
                keyword: "azalea+flower"
            },
            {
                name: "èŒ‰è‰èŠ±",
                scientific: "Jasminum",
                description: "èŒ‰è‰èŠ±å°å·§è€ŒèŠ³é¦™ï¼Œå®ƒçš„é¦™æ°”å¦‚åŒæ€å¿µï¼Œç¼ ç»•åœ¨å¿ƒå¤´ï¼Œä¹…ä¹…ä¸èƒ½æ•£å»ã€‚",
                rareness: 3,
                keyword: "jasmine+flower"
            },
            {
                name: "ç§‹æµ·æ£ ",
                scientific: "Begonia grandis",
                description: "ç§‹æµ·æ£ è±¡å¾ç€æ€å¿µä¸æƒ…æ€ï¼Œå®ƒåœ¨ç§‹å¤©ç»½æ”¾ï¼Œå¦‚åŒæˆ‘åœ¨æ€å¿µä½ æ—¶æµéœ²çš„æƒ…æ„Ÿã€‚",
                rareness: 3,
                keyword: "begonia"
            },
            {
                name: "æ²¹èœèŠ±",
                scientific: "Brassica napus",
                description: "æ²¹èœèŠ±é‡‘é»„ä¸€ç‰‡ï¼Œè±¡å¾ç€ä¸°æ”¶ä¸å¸Œæœ›ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚æ²¹èœèŠ±ç”°èˆ¬å¹¿é˜”è€Œç¾ä¸½ã€‚",
                rareness: 2,
                keyword: "rapeseed+flower"
            },
            {
                name: "è’²å…¬è‹±",
                scientific: "Taraxacum",
                description: "è’²å…¬è‹±ä»£è¡¨ç€å¸Œæœ›ä¸æ¢¦æƒ³ï¼Œå®ƒçš„ç§å­éšé£é£˜æ•£ï¼Œå°±åƒæˆ‘çš„çˆ±æ„éšé£é£˜å‘ä½ ã€‚",
                rareness: 1,
                keyword: "dandelion"
            },
            {
                name: "æ¡‚èŠ±",
                scientific: "Osmanthus fragrans",
                description: "æ¡‚èŠ±é¦™æ°”å¹½è¿œï¼Œè±¡å¾ç€æˆåŠŸä¸è´µæ°”ã€‚æ„¿ä½ å¦‚æ¡‚èŠ±èˆ¬æ•£å‘è¿·äººé­…åŠ›ï¼Œç”Ÿæ´»å¤„å¤„é£˜é¦™ã€‚",
                rareness: 3,
                keyword: "osmanthus+flower"
            },
            {
                name: "æ˜™èŠ±",
                scientific: "Epiphyllum oxypetalum",
                description: "æ˜™èŠ±ä¸€ç°è™½çŸ­æš‚ï¼Œä½†å®ƒç‹¬ç‰¹çš„ç¾ä¸½ä»¤äººéš¾å¿˜ã€‚çæƒœä¸ä½ å…±åº¦çš„æ¯ä¸€åˆ»ï¼Œå¦‚åŒæ¬£èµæ˜™èŠ±ã€‚",
                rareness: 5,
                keyword: "queen+of+the+night+flower"
            },
            {
                name: "çŸ¢è½¦èŠ",
                scientific: "Centaurea cyanus",
                description: "çŸ¢è½¦èŠæ¹›è“å¦‚å¤©ç©ºï¼Œè±¡å¾ç€å¿ è¯šä¸å¯é ã€‚æˆ‘å¯¹ä½ çš„çˆ±å¦‚åŒè¿™è“è‰²ï¼Œæ·±é‚ƒè€ŒçœŸæŒšã€‚",
                rareness: 3,
                keyword: "cornflower"
            },
            {
                name: "ç´«ä¸é¦™",
                scientific: "Syringa",
                description: "ç´«ä¸é¦™ä»£è¡¨ç€åˆæ‹çš„å¿ƒåŠ¨å’Œç¾å¥½å›å¿†ã€‚å®ƒçš„èŠ³é¦™å¦‚åŒæˆ‘å¯¹ä½ çš„çˆ±ï¼Œæ·¡é›…è€ŒæŒä¹…ã€‚",
                rareness: 3,
                keyword: "lilac+flower"
            },
            {
                name: "ç¿ èŠ",
                scientific: "Callistephus chinensis",
                description: "ç¿ èŠåšå¼ºè€Œç¾ä¸½ï¼Œè±¡å¾ç€åšè´ä¸æ¸çš„çˆ±ã€‚æ— è®ºç»å†ä»€ä¹ˆï¼Œæˆ‘å¯¹ä½ çš„å¿ƒæ°¸ä¸æ”¹å˜ã€‚",
                rareness: 2,
                keyword: "aster+flower"
            },
            {
                name: "æŠ¥æ˜¥èŠ±",
                scientific: "Primula vulgaris",
                description: "æŠ¥æ˜¥èŠ±æ˜¯æ˜¥å¤©çš„ä½¿è€…ï¼Œè±¡å¾ç€å¸Œæœ›ä¸æ–°ç”Ÿã€‚æ„¿æˆ‘ä»¬çš„çˆ±å¦‚æ–°æ˜¥èˆ¬å……æ»¡å¸Œæœ›ä¸æ´»åŠ›ã€‚",
                rareness: 3,
                keyword: "primrose+flower"
            },
            {
                name: "æ°´ä»™èŠ±",
                scientific: "Narcissus",
                description: "æ°´ä»™èŠ±æ¸…æ–°è„±ä¿—ï¼Œè±¡å¾ç€è‡ªæˆ‘ã€é‡ç”Ÿä¸å°Šé‡ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…ä¸­å……æ»¡ç›¸äº’å°Šé‡ä¸æ”¯æŒã€‚",
                rareness: 3,
                keyword: "daffodil"
            },
            {
                name: "é“¶è²èŠ±",
                scientific: "Anemone",
                description: "é“¶è²èŠ±å¦‚åŒæ˜Ÿè¾°èˆ¬é—ªçƒï¼Œä»£è¡¨ç€æœŸå¾…ä¸å¸Œæœ›ã€‚å®ƒå¦‚åŒæˆ‘å¯¹ä½ æœªæ¥çš„ç¾å¥½æœŸè®¸ã€‚",
                rareness: 4,
                keyword: "anemone+flower"
            },
            {
                name: "çŸ³ç«¹",
                scientific: "Dianthus",
                description: "çŸ³ç«¹èŠ±è±¡å¾ç€å¤§èƒ†çš„çˆ±ä¸å‹‡æ°”ã€‚æˆ‘æ„¿æ„ä¸ºä½ å‹‡æ•¢åœ°è¡¨è¾¾çˆ±æ„ï¼Œä¸æƒ§ä¸€åˆ‡è‰°éš¾ã€‚",
                rareness: 2,
                keyword: "pink+flower"
            },
            {
                name: "è™ç¾äºº",
                scientific: "Papaver rhoeas",
                description: "è™ç¾äººè‰²å½©è‰³ä¸½ï¼Œè±¡å¾ç€å®‰æ…°ä¸å¸Œæœ›ã€‚æ„¿æˆ‘èƒ½åœ¨ä½ ç–²æƒ«æ—¶ç»™äºˆæ”¯æŒä¸æ¸©æš–ã€‚",
                rareness: 3,
                keyword: "red+poppy"
            },
            {
                name: "ä¸‰è‰²å ‡",
                scientific: "Viola tricolor",
                description: "ä¸‰è‰²å ‡ä»£è¡¨ç€æ€å¿µä¸æ€€å¿µã€‚æ¯å½“çœ‹åˆ°å®ƒï¼Œå°±ä¼šæƒ³èµ·ä¸ä½ åœ¨ä¸€èµ·çš„ç¾å¥½æ—¶å…‰ã€‚",
                rareness: 2,
                keyword: "pansy+flower"
            },
            {
                name: "é‡‘ç›èŠ±",
                scientific: "Calendula officinalis",
                description: "é‡‘ç›èŠ±è±¡å¾ç€æŒä¹…çš„çˆ±ä¸å–œæ‚¦ã€‚å®ƒå¦‚åŒé˜³å…‰èˆ¬æ¸©æš–ï¼Œç…§äº®æˆ‘ä»¬çš„çˆ±æƒ…æ—…ç¨‹ã€‚",
                rareness: 2,
                keyword: "marigold+flower"
            },
            {
                name: "ç»£çƒèŠ±",
                scientific: "Hydrangea",
                description: "ç»£çƒèŠ±åä¸½è€Œä¸°æ»¡ï¼Œè±¡å¾ç€å›¢åœ†ä¸æ°¸æ’çš„çˆ±ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚ç»£çƒèˆ¬åœ†æ»¡ä¸°ç›ˆã€‚",
                rareness: 3,
                keyword: "hydrangea"
            },
            {
                name: "æœ¨æ£‰èŠ±",
                scientific: "Bombax ceiba",
                description: "æœ¨æ£‰èŠ±çƒ­çƒˆå¥”æ”¾ï¼Œå¦‚åŒç‡ƒçƒ§çš„ç«ç„°ï¼Œè±¡å¾ç€çƒ­æƒ…ä¸å‹‡æ•¢ã€‚å®ƒå¦‚åŒæˆ‘ç‚½çƒ­çš„çˆ±ã€‚",
                rareness: 4,
                keyword: "red+silk+cotton+flower"
            },
            {
                name: "é»‘å¿ƒèŠ",
                scientific: "Rudbeckia hirta",
                description: "é»‘å¿ƒèŠæ˜äº®è€Œç‹¬ç‰¹ï¼Œè±¡å¾ç€æ­£ä¹‰ä¸å…¬å¹³ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å»ºç«‹åœ¨ç›¸äº’å°Šé‡çš„åŸºç¡€ä¸Šã€‚",
                rareness: 3,
                keyword: "black+eyed+susan"
            },
            {
                name: "é¾™èƒ†èŠ±",
                scientific: "Gentiana",
                description: "é¾™èƒ†èŠ±æ·±è“å¦‚æµ·ï¼Œè±¡å¾ç€å¿§éƒä¸æ°¸æ’çš„çˆ±ã€‚å®ƒçš„æ·±é‚ƒå¦‚åŒæˆ‘å¯¹ä½ æ·±ä¸è§åº•çš„çˆ±æ„ã€‚",
                rareness: 4,
                keyword: "gentian+flower"
            },
            {
                name: "å°é›èŠ",
                scientific: "Bellis",
                description: "å°é›èŠçº¯çœŸå¯çˆ±ï¼Œè±¡å¾ç€å¤©çœŸä¸çº¯æ´çš„çˆ±ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚å°é›èŠèˆ¬å•çº¯ç¾å¥½ã€‚",
                rareness: 1,
                keyword: "tiny+daisy"
            },
            {
                name: "æ³¢æ–¯èŠ",
                scientific: "Cosmos bipinnatus",
                description: "æ³¢æ–¯èŠè½»ç›ˆé£˜é€¸ï¼Œè±¡å¾ç€å’Œè°ä¸å¹³è¡¡ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚æ³¢æ–¯èŠèˆ¬è‡ªç”±è€Œå’Œè°ã€‚",
                rareness: 2,
                keyword: "cosmos+flower"
            },
            {
                name: "åˆæ¬¢èŠ±",
                scientific: "Albizia julibrissin",
                description: "åˆæ¬¢èŠ±æŸ”ç¾å¦‚ä¸ï¼Œè±¡å¾ç€å›¢èšä¸æ€å¿µã€‚å®ƒå¦‚åŒæˆ‘å¯¹ä½ æ€å¿µæ—¶çš„å¿ƒæƒ…ï¼ŒæŸ”è½¯è€Œæ¸©æš–ã€‚",
                rareness: 3,
                keyword: "silk+tree+flower"
            },
            {
                name: "å±±èŒ¶èŠ±",
                scientific: "Camellia",
                description: "å±±èŒ¶èŠ±åšéŸ§è€Œç¾ä¸½ï¼Œè±¡å¾ç€åšæŒä¸æ‡ˆçš„çˆ±ã€‚æ— è®ºå¯’å†¬ï¼Œæˆ‘çš„çˆ±éƒ½ä¼šå¦‚å±±èŒ¶èˆ¬ç»½æ”¾ã€‚",
                rareness: 4,
                keyword: "camellia+flower"
            },
            {
                name: "è“è‰²å¦–å§¬",
                scientific: "Rosa hybrida",
                description: "è“è‰²å¦–å§¬ç¥ç§˜è€Œç‹¬ç‰¹ï¼Œè±¡å¾ç€ä¸å¯èƒ½çš„çˆ±æƒ…ä¸å¥‡è¿¹ã€‚å› ä¸ºæœ‰ä½ ï¼Œä¸€åˆ‡å¥‡è¿¹éƒ½å¯èƒ½å‘ç”Ÿã€‚",
                rareness: 5,
                keyword: "blue+rose"
            },
            {
                name: "çŠç‘šèŠ±",
                scientific: "Russelia equisetiformis",
                description: "çŠç‘šèŠ±å¦‚åŒæµ·åº•çŠç‘šï¼Œç»šä¸½å¤šå½©ã€‚å®ƒè±¡å¾ç€çƒ­æƒ…ä¸æ´»åŠ›ï¼Œå¦‚åŒæˆ‘å¯¹ä½ çƒ­çƒˆçš„çˆ±ã€‚",
                rareness: 3,
                keyword: "coral+plant+flower"
            }
        ];

        // è·å–DOMå…ƒç´ 
        const giftBox = document.getElementById('giftBox');
        const resetBtn = document.getElementById('resetBtn');
        const flowerImage = document.getElementById('flowerImage');
        const flowerName = document.getElementById('flowerName');
        const flowerScientific = document.getElementById('flowerScientific');
        const flowerRareness = document.getElementById('flowerRareness');
        const flowerDescription = document.getElementById('flowerDescription');
        const historyContainer = document.getElementById('historyContainer');
        const discoveryCount = document.getElementById('discoveryCount');

        // åˆå§‹åŒ–æœ¬åœ°å­˜å‚¨
        function initLocalStorage() {
            if (!localStorage.getItem('flowerHistory')) {
                localStorage.setItem('flowerHistory', JSON.stringify([]));
            }
            if (!localStorage.getItem('lastOpenDate')) {
                localStorage.setItem('lastOpenDate', '');
            }
            updateDiscoveryCount();
        }

        // æ£€æŸ¥ä»Šå¤©æ˜¯å¦å·²ç»å¼€ç›’
        function checkIfOpenedToday() {
            const today = new Date().toDateString();
            const lastOpenDate = localStorage.getItem('lastOpenDate');
            return today === lastOpenDate;
        }
        
        // æ›´æ–°å‘ç°è®¡æ•°
        function updateDiscoveryCount() {
            const history = JSON.parse(localStorage.getItem('flowerHistory') || '[]');
            const uniqueFlowers = new Set(history.map(item => item.name));
            discoveryCount.textContent = `${uniqueFlowers.size}/50`;
            
            // å¦‚æœé›†é½äº†50æœµèŠ±ï¼Œæ·»åŠ ç‰¹æ®Šæ•ˆæœ
            if (uniqueFlowers.size === 50) {
                document.body.style.backgroundColor = '#fff0f8';
                document.body.style.backgroundImage = 'url("https://source.unsplash.com/random/1920x1080/?flower,pattern")';
                document.body.style.backgroundBlendMode = 'soft-light';
                document.body.style.backgroundAttachment = 'fixed';
            }
        }
        
        // åˆ›å»ºé—ªå…‰æ•ˆæœ
        function createSparkles(x, y) {
            try {
                const boxRect = giftBox.getBoundingClientRect();
                const centerX = boxRect.left + boxRect.width / 2;
                const centerY = boxRect.top + boxRect.height / 2;
                
                for (let i = 0; i < 10; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.classList.add('sparkle');
                    sparkle.style.left = `${centerX + (Math.random() * 100 - 50)}px`;
                    sparkle.style.top = `${centerY + (Math.random() * 100 - 50)}px`;
                    document.body.appendChild(sparkle);
                    
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.remove();
                        }
                    }, 800);
                }
            } catch (error) {
                console.error("åˆ›å»ºé—ªå…‰æ•ˆæœæ—¶å‡ºé”™:", error);
            }
        }
        
        // é‡ç½®ç›’å­
        function resetBox() {
            giftBox.classList.remove('box-open');
            setTimeout(() => {
                if (checkIfOpenedToday()) {
                    giftBox.classList.add('disabled');
                }
            }, 500);
        }
        
        // éšæœºè·å–ä¸€æœµèŠ±
        function getRandomFlower() {
            try {
                // å…ˆå°è¯•æ‰¾å‡ºæœªå‘ç°çš„èŠ±
                const history = JSON.parse(localStorage.getItem('flowerHistory') || '[]');
                const discoveredFlowers = new Set(history.map(item => item.name));
                
                const undiscoveredFlowers = flowers.filter(flower => !discoveredFlowers.has(flower.name));
                
                console.log("æœªå‘ç°çš„èŠ±æœµæ•°é‡:", undiscoveredFlowers.length);
                console.log("å·²å‘ç°çš„èŠ±æœµæ•°é‡:", discoveredFlowers.size);
                
                // å¦‚æœè¿˜æœ‰æœªå‘ç°çš„èŠ±ï¼Œä¼˜å…ˆä»ä¸­é€‰æ‹©
                if (undiscoveredFlowers.length > 0) {
                    // æ ¹æ®ç¨€æœ‰åº¦ç»™äºˆæƒé‡ï¼Œç¨€æœ‰åº¦é«˜çš„å‡ºç°æ¦‚ç‡è¾ƒä½
                    const weightedFlowers = [];
                    
                    undiscoveredFlowers.forEach(flower => {
                        // ç¨€æœ‰åº¦è¶Šé«˜ï¼Œæƒé‡è¶Šä½
                        const weight = 6 - flower.rareness; // 5ç¨€æœ‰åº¦ç»™1æƒé‡ï¼Œ1ç¨€æœ‰åº¦ç»™5æƒé‡
                        for (let i = 0; i < weight; i++) {
                            weightedFlowers.push(flower);
                        }
                    });
                    
                    return weightedFlowers[Math.floor(Math.random() * weightedFlowers.length)];
                } else {
                    // å¦‚æœå·²ç»å‘ç°äº†æ‰€æœ‰èŠ±ï¼Œåˆ™éšæœºè¿”å›ä¸€æœµ
                    return flowers[Math.floor(Math.random() * flowers.length)];
                }
            } catch (error) {
                console.error("è·å–éšæœºèŠ±å‰æ—¶å‡ºé”™:", error);
                // å‘ç”Ÿé”™è¯¯æ—¶è¿”å›é»˜è®¤èŠ±å‰
                return flowers[0];
            }
        }
        
        // æ˜¾ç¤ºèŠ±å‰
        function displayFlower(flower) {
            // è®¾ç½®èŠ±å‰ä¿¡æ¯
            flowerName.textContent = flower.name;
            flowerScientific.textContent = flower.scientific;
            flowerDescription.textContent = flower.description;
            
            // è®¾ç½®ç¨€æœ‰åº¦
            flowerRareness.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('i');
                star.classList.add('fas', i < flower.rareness ? 'fa-star' : 'fa-star-o');
                flowerRareness.appendChild(star);
            }
            
            // æ ¹æ®ç¨€æœ‰åº¦æ·»åŠ æ ‡ç­¾
            let rarenessText = '';
            switch(flower.rareness) {
                case 1: rarenessText = 'æ™®é€š'; break;
                case 2: rarenessText = 'å¸¸è§'; break;
                case 3: rarenessText = 'ç¨€æœ‰'; break;
                case 4: rarenessText = 'çç¨€'; break;
                case 5: rarenessText = 'ä¼ è¯´'; break;
            }
            
            const rarenessTag = document.createElement('span');
            rarenessTag.classList.add('ml-2', 'text-xs', 'px-2', 'py-1', 'rounded-full');
            rarenessTag.textContent = rarenessText;
            
            // æ ¹æ®ç¨€æœ‰åº¦è®¾ç½®é¢œè‰²
            const colors = [
                'bg-gray-100 text-gray-800',    // æ™®é€š
                'bg-green-100 text-green-800',  // å¸¸è§
                'bg-blue-100 text-blue-800',    // ç¨€æœ‰
                'bg-purple-100 text-purple-800', // çç¨€
                'bg-yellow-100 text-yellow-800'  // ä¼ è¯´
            ];
            
            rarenessTag.className += ' ' + colors[flower.rareness - 1];
            flowerRareness.appendChild(rarenessTag);
            
            // è®¾ç½®å›¾ç‰‡
            flowerImage.src = `https://source.unsplash.com/featured/?${flower.keyword}`;
            
            // ä¿å­˜åˆ°å†å²è®°å½•
            const history = JSON.parse(localStorage.getItem('flowerHistory') || '[]');
            history.push({
                name: flower.name,
                scientific: flower.scientific,
                description: flower.description,
                rareness: flower.rareness,
                keyword: flower.keyword,
                date: new Date().toISOString()
            });
            localStorage.setItem('flowerHistory', JSON.stringify(history));
            
            // æ›´æ–°å‘ç°è®¡æ•°
            updateDiscoveryCount();
            
            // æ›´æ–°å†å²è®°å½•æ˜¾ç¤º
            updateHistoryDisplay();
        }
        
        // æ›´æ–°å†å²è®°å½•æ˜¾ç¤º
        function updateHistoryDisplay() {
            const history = JSON.parse(localStorage.getItem('flowerHistory') || '[]');
            
            // æ¸…ç©ºå®¹å™¨
            historyContainer.innerHTML = '';
            
            // å¦‚æœæ²¡æœ‰å†å²è®°å½•ï¼Œæ˜¾ç¤ºæç¤º
            if (history.length === 0) {
                const emptyMessage = document.createElement('div');
                emptyMessage.className = 'col-span-full text-center py-8 text-gray-500';
                emptyMessage.textContent = 'è¿˜æ²¡æœ‰å‘ç°ä»»ä½•èŠ±å‰ï¼Œç‚¹å‡»ç¤¼ç›’å¼€å§‹æ¢ç´¢å§ï¼';
                historyContainer.appendChild(emptyMessage);
                return;
            }
            
            // æŒ‰æ—¥æœŸé™åºæ’åº
            history.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // åˆ›å»ºå†å²è®°å½•å¡ç‰‡
            history.forEach(item => {
                const card = document.createElement('div');
                card.className = 'history-item bg-white rounded-lg overflow-hidden shadow-md';
                
                // ä½¿ç”¨èŠ±å‰å…³é”®è¯ä»Unsplashè·å–å›¾ç‰‡
                const img = document.createElement('img');
                img.src = `https://source.unsplash.com/featured/?${item.keyword}`;
                img.alt = item.name;
                img.className = 'w-full h-32 object-cover';
                
                const content = document.createElement('div');
                content.className = 'p-3';
                
                const title = document.createElement('h4');
                title.className = 'font-bold text-pink-600';
                title.textContent = item.name;
                
                const date = document.createElement('p');
                date.className = 'text-xs text-gray-500';
                date.textContent = new Date(item.date).toLocaleDateString();
                
                const rareness = document.createElement('div');
                rareness.className = 'flex items-center mt-1';
                
                for (let i = 0; i < 5; i++) {
                    const star = document.createElement('i');
                    star.className = `text-xs text-yellow-500 fas ${i < item.rareness ? 'fa-star' : 'fa-star-o'}`;
                    rareness.appendChild(star);
                }
                
                content.appendChild(title);
                content.appendChild(date);
                content.appendChild(rareness);
                
                card.appendChild(img);
                card.appendChild(content);
                
                historyContainer.appendChild(card);
            });
        }
        
        // å¼€å§‹åŠ¨ç”»
        function openBox(event) {
            console.log("ç›’å­è¢«ç‚¹å‡»");
            
            // æš‚æ—¶æ³¨é‡Šæ‰æ¯æ—¥é™åˆ¶åŠŸèƒ½ï¼Œæ–¹ä¾¿æµ‹è¯•
            // å¦‚æœä»Šå¤©å·²ç»å¼€è¿‡ç›’å­ï¼Œä¸å…è®¸å†å¼€
            // if (checkIfOpenedToday() && !giftBox.classList.contains('box-open')) {
            //     giftBox.classList.add('disabled');
            //     return;
            // }
            
            // å¦‚æœç›’å­å·²ç»æ‰“å¼€ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
            if (giftBox.classList.contains('box-open')) {
                return;
            }
            
            console.log("å¼€å§‹å¼€å¯ç›’å­");
            
            // æ·»åŠ å¼€å¯åŠ¨ç”»ç±»
            giftBox.classList.add('box-open');
            
            // è·å–ç‚¹å‡»ä½ç½®åˆ›å»ºé—ªå…‰æ•ˆæœ
            createSparkles(event.clientX, event.clientY);
            
            // è·å–éšæœºèŠ±å‰
            const flower = getRandomFlower();
            console.log("é€‰ä¸­çš„èŠ±å‰:", flower.name);
            
            // æ˜¾ç¤ºèŠ±å‰
            setTimeout(() => {
                displayFlower(flower);
                console.log("èŠ±å‰å·²æ˜¾ç¤º");
            }, 500);
            
            // è®°å½•ä»Šå¤©å·²ç»å¼€è¿‡ç›’å­
            localStorage.setItem('lastOpenDate', new Date().toDateString());
        }
        
        // ç»‘å®šäº‹ä»¶
        giftBox.addEventListener('click', openBox);
        resetBtn.addEventListener('click', function(e) {
            e.stopPropagation(); // é˜²æ­¢äº‹ä»¶å†’æ³¡è§¦å‘ç›’å­çš„ç‚¹å‡»äº‹ä»¶
            resetBox();
        });

        // é¢å¤–ç¡®ä¿æŒ‰é’®å’Œç›’å­ä¸Šå…ƒç´ çš„ç‚¹å‡»äº‹ä»¶æ­£ç¡®ä¼ é€’
        document.querySelectorAll('.gift-box .lid, .gift-box .box, .gift-box .ribbon').forEach(element => {
            element.addEventListener('click', function(e) {
                // ç¡®ä¿äº‹ä»¶å†’æ³¡åˆ°giftBox
                e.stopPropagation();
                // æ‰‹åŠ¨è§¦å‘giftBoxçš„ç‚¹å‡»äº‹ä»¶
                openBox(e);
            });
        });
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('load', function() {
            initLocalStorage();
            updateHistoryDisplay();
            
            // æš‚æ—¶ç§»é™¤æ¯æ—¥é™åˆ¶ï¼Œæ–¹ä¾¿æµ‹è¯•
            // æ£€æŸ¥æ˜¯å¦ä»Šå¤©å·²ç»å¼€è¿‡ç›’å­
            // if (checkIfOpenedToday()) {
            //     giftBox.classList.add('disabled');
            // }
            
            // æ·»åŠ è°ƒè¯•ä¿¡æ¯
            console.log("é¡µé¢åŠ è½½å®Œæˆï¼Œåˆå§‹åŒ–æˆåŠŸ");
            console.log("ç¤¼ç›’å…ƒç´ ï¼š", giftBox);
        });